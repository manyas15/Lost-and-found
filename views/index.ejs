<% const content = `
<section class="hero">
  <div class="container">
    <h1>University Lost & Found</h1>
    <p>If you lost something on campus, check here first. If you found something, help it get back to its owner.</p>
    <div class="cta">
      <a class="btn" href="/items">Browse All</a>
      <a class="btn secondary" href="/report">Report Lost</a>
      <a class="btn secondary" href="/found">Report Found</a>
    </div>
  </div>
</section>

<section class="container">
  <h2>Latest items</h2>
  <div class="grid">
    ${latest.filter(i => i.imageUrl).map(i => `
      <a class="card" href="/items/${i.id}" style="display: flex; flex-direction: column; overflow: hidden;">
        <div style="flex: 1; display: flex; flex-direction: column;">
          <img src="${i.imageUrl}" alt="${i.itemName}" style="width: 100%; height: 250px; object-fit: cover; border-radius: 0.5rem 0.5rem 0 0;"/>
          <div class="card-body" style="flex: 1; display: flex; flex-direction: column;">
            <div style="margin-bottom: 0.75rem;">
              <span class="badge ${i.status}">${i.status.toUpperCase()}</span>
            </div>
            <h3 style="margin-bottom: 0.5rem;">${i.itemName}</h3>
            ${i.description ? `
              <p style="color: var(--text-secondary); font-size: 0.9rem; line-height: 1.5; margin-bottom: 0.75rem; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;">
                ${i.description}
              </p>
            ` : ''}
            <div style="margin-top: auto; padding-top: 0.75rem; border-top: 1px solid var(--border-light);">
              <p class="muted" style="margin: 0.25rem 0; font-size: 0.875rem;">${i.category || 'other'} â€¢ ${i.location}</p>
              <p class="muted" style="margin: 0.25rem 0; font-size: 0.875rem;">Date: ${i.date}</p>
            </div>
          </div>
        </div>
      </a>
    `).join('')}
  </div>
</section>
` %>
<%- include('partials/layout', { title, content }) %>
